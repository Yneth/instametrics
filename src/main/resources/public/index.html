<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<input type="text" id="userName"/>

<a id="showFollowers" href="#">Current followers</a>
<a id="showRetards" href="#">Retards</a>
<a id="showNewcomers" href="#">Newcomers</a>
<a id="saveFollowers" href="#">Save</a>

<div id="output">
    Output
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>
    ;(function () {
        var doc = $(document),
            userNameText = $('#userName'),
            showFollowers = $('#showFollowers'),
            showRetards = $('#showRetards'),
            saveFollowers = $('#saveFollowers'),
            showNewcomers = $('#showNewcomers'),
            printToOutput = callback($('#output'));

        var retardService = function (userName) {
            var params = '?userName=' + userName;
            return {
                showFollowers: function (cb) {
                    $.get('/followers/' + params, cb);
                },
                showRetards: function (cb) {
                    $.get('/retards/' + params, cb);
                },
                showNewcomers: function (cb) {
                    $.get('/followers/new/' + params, cb);
                },
                saveFollowers: function (cb) {
                    $.get('/followers/save/' + params, cb);
                }
            };
        };
        var retardServiceFactory = function () {
            return retardService(userNameText.val());
        };

        showFollowers.on('click', function () {
            retardServiceFactory().showFollowers(printToOutput);
        });
        showRetards.on('click', function () {
            retardServiceFactory().showRetards(printToOutput);
        });
        showNewcomers.on('click', function () {
            retardServiceFactory().showNewcomers(printToOutput);
        });
        saveFollowers.on('click', function () {
            retardServiceFactory().saveFollowers(printToOutput);
        });

        function callback(output) {
            return function (data) {
                output.empty();
                console.log(data);
                for (var id in data) {
                    var element = document.createElement('div');
                    element.innerHTML = JSON.stringify(data[id]);
                    output.append(element);
                }
            };
        }
    })();
</script>
</body>
</html>